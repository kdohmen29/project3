(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{46:function(e,a,t){e.exports=t(96)},72:function(e,a,t){},85:function(e,a,t){},87:function(e,a,t){},90:function(e,a,t){},92:function(e,a,t){},94:function(e,a,t){},96:function(e,a,t){"use strict";t.r(a);var n=t(1),s=t.n(n),r=t(23),l=t.n(r),o=(t(51),t(8)),i=t(9),c=t(12),u=t(10),m=t(11),d=t(7),p=t(121),h=t(120),g=t(119),v=t(27),E=t(14),f=t.n(E),b=(t(72),t(97)),S=t(98),O=t(122),j=t(99),w=t(100),k=t(101),y=t(102),N=t(103),C=t(104),I=t(105),x=function(e){function a(){var e;return Object(o.a)(this,a),(e=Object(c.a)(this,Object(u.a)(a).call(this))).onDismiss=function(){e.setState({visible:!0})},e.toggle=function(){e.setState({modal:!e.state.modal})},e.checkform=function(){return console.log("this ran"),""===e.state.password||e.state.password!==e.state.password2?(e.setState({errorMsg:"Error: Please check that you've entered and confirmed your password!"}),setTimeout(function(){e.toggleError()},3e3),!1):e.state.password.length<6?(e.setState({errorMsg:"Error: Password must contain at least six characters!"}),setTimeout(function(){e.toggleError()},3e3),!1):(e.toggle(),e.onDismiss(),setTimeout(function(){e.setState({visible:!1})},2500),void f.a.post("/user/",{name:e.state.name,username:e.state.username,password:e.state.password}).then(function(e){console.log(e),e.data.errmsg?console.log("username already taken"):console.log("successful signup")}).catch(function(e){console.log("signup error: "),console.log(e)}))},e.state={name:"",username:"",password:"",password2:"",errorMsg:"",redirectTo:null,modal:!1,visible:!1,validate:{emailState:""}},e.handleSubmit=e.handleSubmit.bind(Object(d.a)(Object(d.a)(e))),e.handleChange=e.handleChange.bind(Object(d.a)(Object(d.a)(e))),e}return Object(m.a)(a,e),Object(i.a)(a,[{key:"handleChange",value:function(e){this.setState(Object(v.a)({},e.target.name,e.target.value))}},{key:"validateEmail",value:function(e){var a=this.state.validate;/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.target.value)?a.emailState="has-success":a.emailState="has-danger",this.setState({validate:a})}},{key:"toggleError",value:function(){this.setState({errorMsg:""})}},{key:"handleSubmit",value:function(e){console.log("sign-up handleSubmit, username: "),console.log(this.state.username),e.preventDefault(),this.checkform()}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"inline"},s.a.createElement(b.a,{className:"form-toggle",outline:!0,color:"warning",onClick:this.toggle,style:{marginBottom:"1rem"},size:"lg"},"Register"),s.a.createElement(S.a,{className:"alert",color:"info",isOpen:this.state.visible,toggle:this.onDismiss},"Successful Signup! Now you can login!"),s.a.createElement(O.a,{isOpen:this.state.modal,toggle:this.toggle},s.a.createElement(j.a,{className:"signUpForm"},s.a.createElement("h2",{className:"text-center mb-3"},s.a.createElement("i",{className:"mr-2 fas fa-user-plus"}),"Sign Up",s.a.createElement("button",{type:"button",onClick:this.toggle,className:"close","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),s.a.createElement(w.a,null,s.a.createElement(k.a,null,s.a.createElement(y.a,null,s.a.createElement(N.a,{for:"exampleName"},"Name"),s.a.createElement(C.a,{className:"form-input",placeholder:"Name",type:"name",name:"name",value:this.state.name,onChange:this.handleChange}))),s.a.createElement(k.a,null,s.a.createElement(y.a,null,s.a.createElement(N.a,{for:"exampleEmail"},"Email"),s.a.createElement(C.a,{className:"form-input",type:"email",id:"username",name:"username",placeholder:"username",valid:"has-success"===this.state.validate.emailState,invalid:"has-danger"===this.state.validate.emailState,value:this.state.username,onChange:function(a){e.validateEmail(a),e.handleChange(a)}}),s.a.createElement(I.a,{valid:!0},"That's a valid looking email you've got there."),s.a.createElement(I.a,null,"Uh oh! Please input a valid email."))),s.a.createElement(k.a,null,s.a.createElement(y.a,null,s.a.createElement(N.a,{for:"examplePassword"},"Password"),s.a.createElement(C.a,{className:"form-input",placeholder:"password",type:"password",name:"password",value:this.state.password,onChange:this.handleChange}))),s.a.createElement(k.a,null,s.a.createElement(y.a,null,s.a.createElement(N.a,{for:"examplePassword"},"Confirm"),s.a.createElement(C.a,{className:"form-input",placeholder:"Confrim Password",type:"password",name:"password2",value:this.state.password2,onChange:this.handleChange}))),s.a.createElement("p",{className:"text-danger"},this.state.errorMsg),s.a.createElement(b.a,{className:"btn",color:"primary",onClick:this.handleSubmit,type:"submit"},"Submit")))))}}]),a}(n.Component),T=t(25),D=t.n(T),U=t(29),A=(t(85),{getSounds:function(e){return f.a.get("https://freesound.org/apiv2/search/text/?query=".concat(e,"&fields=name,id,previews,images&token=x5Hs2Kk9Jn3YjFmKB8A9hj9fue9bjFGnid4ua53j"))},loginSounds:function(){return f.a.get("https://freesound.org/apiv2/search/text/?query=cat&fields=name,id,previews,images&token=x5Hs2Kk9Jn3YjFmKB8A9hj9fue9bjFGnid4ua53j")}}),P=t(24),M=t.n(P),B=t(106),F=t(107),L=t(108),z=t(109),q=t(110),_=(t(87),{marginTop:"25px",display:"inline-block",marginLeft:"25px"}),J=function(e){function a(e){return Object(o.a)(this,a),Object(c.a)(this,Object(u.a)(a).call(this,e))}return Object(m.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return s.a.createElement("div",{style:_},s.a.createElement(B.a,null,s.a.createElement(F.a,{className:"title"},this.props.audio.name),s.a.createElement(L.a,{top:!0,src:this.props.audio.images.waveform_m}),s.a.createElement(z.a,null,s.a.createElement(q.a,null,s.a.createElement(M.a,{className:"player",src:this.props.audio.previews["preview-hq-mp3"],controls:!0})))))}}]),a}(n.Component),K=function(e){var a=e.audios,t=e.userId,n=a.map(function(e){return s.a.createElement(J,{userId:t,audio:e})});return s.a.createElement("div",null,n)},R=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(c.a)(this,Object(u.a)(a).call(this,e))).toggle=function(){t.setState({modal:!t.state.modal})},t.handlePreview=function(){var e=Object(U.a)(D.a.mark(function e(a){var n;return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.loginSounds(a);case 2:n=e.sent,console.log(n),t.setState({audios:n.data.results});case 5:case"end":return e.stop()}},e,this)}));return function(a){return e.apply(this,arguments)}}(),t.state={username:"",password:"",name:"",redirectTo:null,audios:[],modal:!1,validate:{emailState:""}},t.handleSubmit=t.handleSubmit.bind(Object(d.a)(Object(d.a)(t))),t.handleChange=t.handleChange.bind(Object(d.a)(Object(d.a)(t))),t}return Object(m.a)(a,e),Object(i.a)(a,[{key:"handleChange",value:function(e){this.setState(Object(v.a)({},e.target.name,e.target.value))}},{key:"validateEmail",value:function(e){var a=this.state.validate;/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e.target.value)?a.emailState="has-success":a.emailState="has-danger",this.setState({validate:a})}},{key:"handleSubmit",value:function(e){var a=this;e.preventDefault(),console.log("handleSubmit"),f.a.post("/user/login",{username:this.state.username,password:this.state.password,name:this.state.name}).then(function(e){console.log("login response: "),console.log(e),200===e.status&&(a.props.updateUser({loggedIn:!0,username:e.data.username,userId:e.data._id,name:e.data.name}),a.setState({redirectTo:"/"}))}).catch(function(e){console.log("login error: "),console.log(e)})}},{key:"render",value:function(){var e=this;return this.state.redirectTo?s.a.createElement(g.a,{to:{pathname:this.state.redirectTo}}):s.a.createElement("div",null,s.a.createElement("div",{className:"login-page-div"},s.a.createElement("div",{className:"btn-inline"},s.a.createElement(b.a,{className:"form-toggle",color:"warning",onClick:this.toggle,style:{marginBottom:"1rem"},size:"lg"},"Login"),s.a.createElement(x,null),s.a.createElement(O.a,{isOpen:this.state.modal,toggle:this.toggle},s.a.createElement(j.a,{className:"signInForm"},s.a.createElement("h2",{className:"text-center mb-3"},s.a.createElement("i",{className:"mr-2 fas fa-sign-in-alt"}),"Log In",s.a.createElement("button",{type:"button",onClick:this.toggle,className:"close","aria-label":"Close"},s.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),s.a.createElement(w.a,{className:"form"},s.a.createElement(k.a,null,s.a.createElement(y.a,null,s.a.createElement(N.a,{for:"exampleusername"},"Email"),s.a.createElement(C.a,{className:"form-input",type:"username",id:"username",name:"username",placeholder:"user@email.com",valid:"has-success"===this.state.validate.emailState,invalid:"has-danger"===this.state.validate.emailState,value:this.state.email,onChange:function(a){e.validateEmail(a),e.handleChange(a)}}),s.a.createElement(I.a,{valid:!0},"That's a valid looking email you've got there."),s.a.createElement(I.a,null,"Please input a valid email."))),s.a.createElement(k.a,null,s.a.createElement(y.a,null,s.a.createElement(N.a,{for:"examplePassword"},"Password"),s.a.createElement(C.a,{className:"form-input",placeholder:"password",type:"password",name:"password",value:this.state.password,onChange:this.handleChange}),s.a.createElement(I.a,null,"Uh oh! Wrong password."))),s.a.createElement(b.a,{className:"btn",color:"primary",onClick:this.handleSubmit,type:"submit"},"Submit")))))),s.a.createElement("div",{className:"login-content"},s.a.createElement(b.a,{className:"preview-button btn-warning",onClick:this.handlePreview},"Click for a preview"),s.a.createElement(K,{className:"list",audios:this.state.audios})))}}]),a}(n.Component),W=t(117),Z=(t(90),t(111)),$=t(112),G=t(113),H=t(114),Y=t(115),Q=t(116),V=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(c.a)(this,Object(u.a)(a).call(this,e))).state={isOpen:!1},t.logout=t.logout.bind(Object(d.a)(Object(d.a)(t))),t.toggle=t.toggle.bind(Object(d.a)(Object(d.a)(t))),t}return Object(m.a)(a,e),Object(i.a)(a,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"logout",value:function(e){var a=this;e.preventDefault(),console.log("logging out"),f.a.post("/user/logout").then(function(e){console.log(e.data),200===e.status&&a.props.updateUser({loggedIn:!1,username:null})}).catch(function(e){console.log("Logout error")})}},{key:"render",value:function(){var e=this.props.loggedIn;return console.log("navbar render, props: "),console.log(this.props),s.a.createElement("div",null,e?s.a.createElement(Z.a,{color:"dark",light:!0,expand:"md"},s.a.createElement($.a,{className:"text-white brand"},"Sound Audio App"),s.a.createElement(G.a,{onClick:this.toggle}),s.a.createElement(H.a,{isOpen:this.state.isOpen,navbar:!0},s.a.createElement(Y.a,{className:"ml-auto nav",navbar:!0},s.a.createElement("div",{className:"current-user"},s.a.createElement("i",{className:"fas fa-user",style:{fontSize:24}}),s.a.createElement("p",null,this.props.username)),s.a.createElement(Q.a,null,s.a.createElement(W.a,{to:"#",className:"text-white links",onClick:this.logout},"Log Out"))))):s.a.createElement(Z.a,{color:"dark",light:!0,expand:"md"},s.a.createElement($.a,{className:"text-white brand"},"Sound Audio App"),s.a.createElement(G.a,{onClick:this.toggle}),s.a.createElement(H.a,{isOpen:this.state.isOpen,navbar:!0},s.a.createElement(Y.a,{className:"ml-auto nav",navbar:!0},s.a.createElement(Q.a,null,s.a.createElement("i",{className:"fas fa-phone",style:{fontSize:20,color:"white"}}),s.a.createElement(W.a,{to:"/contact",className:"text-white links"},"Contact"))))))}}]),a}(n.Component),X=function(e){return s.a.createElement("div",null,s.a.createElement("input",e))},ee=function(e){return s.a.createElement("button",Object.assign({},e,{style:{marginLeft:25,marginTop:10},className:"btn btn-warning"}),e.children)},ae=(t(92),function(e){function a(){var e,t;Object(o.a)(this,a);for(var n=arguments.length,s=new Array(n),r=0;r<n;r++)s[r]=arguments[r];return(t=Object(c.a)(this,(e=Object(u.a)(a)).call.apply(e,[this].concat(s)))).state={searchTerm:""},t.onInputChange=function(e){t.setState({searchTerm:e.target.value})},t.handleFormSubmit=function(e){e.preventDefault(),t.props.onFormSubmit(t.state.searchTerm)},t}return Object(m.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("form",null,s.a.createElement(X,{className:"searchBar",value:this.state.searchTerm,onChange:this.onInputChange,name:"searchTerm",placeholder:"Enter Sound (required)"}),s.a.createElement(ee,{onClick:this.handleFormSubmit},"Search")))}}]),a}(n.Component)),te={marginTop:"25px",display:"inline-block",marginLeft:"25px"},ne=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(c.a)(this,Object(u.a)(a).call(this,e))).handleSavedSound=function(e){console.log("Sound saved to DB"),e.preventDefault(),console.log(t.props.audio),f.a.post("/user/sound/".concat(t.props.userId),{soundId:t.props.audio.id,preview:t.props.audio.previews["preview-hq-mp3"],name:t.props.audio.name,image:t.props.audio.images.waveform_m}).then(function(e){f.a.get("/user/saved/".concat(t.props.userId)).then(function(e){console.log(e),t.props.updateSounds(e.data)})})},t}return Object(m.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{style:te},s.a.createElement(B.a,null,s.a.createElement(F.a,null,this.props.audio.name),s.a.createElement(L.a,{top:!0,src:this.props.audio.images.waveform_m}),s.a.createElement(z.a,null,s.a.createElement(q.a,null,s.a.createElement(M.a,{src:this.props.audio.previews["preview-hq-mp3"],controls:!0})),s.a.createElement(b.a,{value:this.props.audio.id,onClick:this.handleSavedSound},"Save Sound"),console.log(this.props.audio.id))))}}]),a}(n.Component),se=function(e){var a=e.audios,t=e.userId,n=e.updateSounds,r=a.map(function(e){return s.a.createElement(ne,{userId:t,audio:e,updateSounds:n})});return s.a.createElement("div",null,r)},re={marginTop:"25px",display:"inline-block",marginLeft:"25px"},le=function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(c.a)(this,Object(u.a)(a).call(this,e))).handleDeleteSound=function(e){e.preventDefault(),f.a.get("user/sound/delete/".concat(t.props.audio._id)).then(function(e){f.a.get("/user/saved/".concat(t.props.userId)).then(function(e){console.log(e),t.props.updateSounds(e.data)})})},t}return Object(m.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){return s.a.createElement("div",{style:re},s.a.createElement(B.a,null,s.a.createElement(F.a,null,this.props.audio.name),s.a.createElement(L.a,{top:!0,src:this.props.audio.image}),s.a.createElement(z.a,null,s.a.createElement(q.a,null,s.a.createElement(M.a,{src:this.props.audio.preview,controls:!0})),s.a.createElement(b.a,{value:this.props.audio._id,onClick:this.handleDeleteSound},"Delete Sound"))))}}]),a}(n.Component),oe=function(e){var a=e.audios,t=e.userId,n=e.updateSounds,r=a.map(function(e){return s.a.createElement(le,{userId:t,audio:e,updateSounds:n})});return s.a.createElement("div",null,r)},ie=(t(94),function(e){function a(e){var t;return Object(o.a)(this,a),(t=Object(c.a)(this,Object(u.a)(a).call(this,e))).onTermSubmit=function(){var e=Object(U.a)(D.a.mark(function e(a){var n;return D.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,A.getSounds(a);case 2:n=e.sent,console.log(n),t.setState({audios:n.data.results});case 5:case"end":return e.stop()}},e,this)}));return function(a){return e.apply(this,arguments)}}(),t.componentDidMount=function(){console.log(t.state.saved),console.log(t.state.audios),f.a.get("/user/saved/".concat(t.props.userId)).then(function(e){t.setState({saved:e.data})})},t.updateSavedSounds=function(e){t.setState({saved:e})},t.state={audios:[],saved:[]},t}return Object(m.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return s.a.createElement("div",{className:"background"},s.a.createElement("div",{className:"jumbotron"},s.a.createElement("div",{className:"jumboTitle"},"Welcome Back ",this.props.name,"!"),s.a.createElement("div",{className:"SearchBar"},s.a.createElement(ae,{onFormSubmit:this.onTermSubmit})),this.props.loggedIn?null:s.a.createElement("p",null,"No User Logged In")),s.a.createElement("div",{className:"searchResults"},s.a.createElement("h1",null,"Search Results"),s.a.createElement(se,{audios:this.state.audios,userId:this.props.userId,updateSounds:this.updateSavedSounds}),s.a.createElement("br",null),s.a.createElement("hr",null),s.a.createElement("br",null)),s.a.createElement("div",{className:"savedResults"},s.a.createElement("h1",null,"Saved Sounds"),s.a.createElement(oe,{audios:this.state.saved,userId:this.props.userId,updateSounds:this.updateSavedSounds})))}}]),a}(n.Component)),ce=function(e){function a(){var e;return Object(o.a)(this,a),(e=Object(c.a)(this,Object(u.a)(a).call(this))).state={loggedIn:!1,username:null,userId:null,name:null},e.componentDidMount=e.componentDidMount.bind(Object(d.a)(Object(d.a)(e))),e.updateUser=e.updateUser.bind(Object(d.a)(Object(d.a)(e))),e}return Object(m.a)(a,e),Object(i.a)(a,[{key:"componentDidMount",value:function(){console.log(this.state)}},{key:"updateUser",value:function(e){this.setState(e),console.log(e)}},{key:"render",value:function(){var e=this;return s.a.createElement("div",{className:"App"},s.a.createElement(V,{updateUser:this.updateUser,loggedIn:this.state.loggedIn,username:this.state.username,name:this.state.name}),this.state.loggedIn?s.a.createElement(p.a,null,s.a.createElement(h.a,{exact:!0,path:"/",component:function(){return s.a.createElement(ie,{user:e.state.user,userId:e.state.userId,loggedIn:e.state.loggedIn,username:e.state.username,name:e.state.name})}}),s.a.createElement(h.a,{path:"/login",render:function(){return s.a.createElement(R,{updateUser:e.updateUser})}}),s.a.createElement(h.a,{path:"/signup",render:function(){return s.a.createElement(x,null)}})):s.a.createElement(p.a,null,s.a.createElement(h.a,{exact:!0,path:"/",component:function(){return s.a.createElement(g.a,{to:{pathname:"/login"}})}}),s.a.createElement(h.a,{path:"/login",render:function(){return s.a.createElement(R,{getUser:!0,updateUser:e.updateUser})}}),s.a.createElement(h.a,{path:"/signup",render:function(){return s.a.createElement(x,null)}})))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ue=t(118);l.a.render(s.a.createElement(ue.a,null,s.a.createElement(ce,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[46,2,1]]]);
//# sourceMappingURL=main.625fd265.chunk.js.map